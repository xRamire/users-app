<form #userForm="ngForm" (ngSubmit)="saveUser(userForm)">
    <h2>{{ isNew ? 'Create New User' : 'Edit User' }}</h2>
  
    <mat-form-field class="full-width">
      <input matInput placeholder="First Name" name="firstName" [(ngModel)]="user.personalData['firstName']" required>
      <mat-error *ngIf="userForm.controls['firstName'].touched && userForm.controls['firstName'].invalid">
        First Name is required
      </mat-error>
    </mat-form-field>
  
    <mat-form-field class="full-width">
      <input matInput placeholder="Last Name" name="lastName" [(ngModel)]="user.personalData['lastName']" required>
      <mat-error *ngIf="userForm.controls['lastName'].touched && userForm.controls['lastName'].invalid">
        Last Name is required
      </mat-error>
    </mat-form-field>
  
    <mat-form-field class="full-width">
      <input matInput placeholder="NIF/Passport" name="nifPassport" [(ngModel)]="user.personalData['nifPassport']" required>
      <mat-error *ngIf="userForm.controls['nifPassport'].touched && userForm.controls['nifPassport'].invalid">
        NIF/Passport is required
      </mat-error>
    </mat-form-field>
  
    <mat-form-field class="full-width">
      <mat-label>Gender</mat-label>
      <mat-select placeholder="Select Gender" name="gender" [(ngModel)]="user.personalData['gender']" required>
        <mat-option value="Male">Male</mat-option>
        <mat-option value="Female">Female</mat-option>
      </mat-select>
      <mat-error *ngIf="userForm.controls['gender'].touched && userForm.controls['gender'].invalid">
        Gender is required
      </mat-error>
    </mat-form-field>
  
    <mat-form-field class="full-width">
      <input matInput type="date" placeholder="Date of Birth" name="dateOfBirth" [(ngModel)]="user.personalData['dateOfBirth']" required>
      <mat-error *ngIf="userForm.controls['dateOfBirth'].touched && userForm.controls['dateOfBirth'].invalid">
        Date of Birth is required
      </mat-error>
    </mat-form-field>
  
    <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">Save</button>
  </form>
  